<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <form id="stegForm">
            <h1>Steganography Helper</h1>
            <label for="picture">Picture: </label><br>
            <input type="file" name="picture" /><br><br>
            <label for="data">Text to encode:</label><br>
            <input type="text" name="data" /><br><br>
            <button id="encBtn" type="button">Encode</button> <button id="decBtn" type="button">Decode</button>
        </form>
    </body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelector("#encBtn").addEventListener("click", function () {
                // TODO make request.
                var form = document.querySelector("#stegForm");
                var formData = new FormData(form);
                var req = new XMLHttpRequest();
                req.open("POST", "/api/encode", true);
                req.onload(function (e) {
                    if (req.status == 200) {
                        console.log("Encode response success!")
                    }
                });
                req.send(formData);
                console.log("enc Button pressed!")
            });

            document.querySelector("#decBtn").addEventListener("click", function () {
                // TODO make request.
                console.log("dec Button pressed!")
            });
        });
    </script>
</html>